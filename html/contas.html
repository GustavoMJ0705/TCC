<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Selecionar conta</title>
    <link rel="stylesheet" href="../css/contas.css">
</head>
<body>

    <div class="logo">
        <img src="../img/match_ofc2.0.png" width="300rem"  alt="LogoMatch">
    </div>
 
    <div class="container">
        <h1 class="card-title" style="width:100%;max-width:none;margin-bottom:40px;">
            Escolha a forma de cadastro!
        </h1>
        <div class="card" id="dojo">
            <img src="../img/dojoicon.png" alt="">
            <h2>Dojô</h2>
        </div>

        <div class="modal" id="modalDojo">
                <div class="conteudoModalDojo">
                    <span class="fecharModal" id="fecharModalDojo">&times;</span>
                    <p>
                        A conta do dojô precisa cadastrar um local dito como sua academia de artes marciais. 
                        Portanto, é necessário informações do local, da(s) modalidade(s) que terá na escola, 
                        e outras informações do próprio, afim de garantir transparência e segurança para os alunos.
                        Mais informações serão cobradas para que possa ser adicionado.
                    </p>
                    <div class="botãoAvançar">
                        <a href="../html/cad_dojo.php">
                            <button class="confirmar" id="confirmar">
                                Avançar
                            </button>
                        </a>
                    </div> 
                </div>
            </div>

            <div class="card" id="usuario">
                <img src="../img/usuarioicon.png" alt="">
                <h2>Usuário</h2>
            </div>

            <div class="modal" id="modalUsuario">
                    <div class="conteudoModalUsuario">
                        <span class="fecharModal" id="fecharModalUsuario">&times;</span>    
                        <p>
                            A conta do usuário precisa cadastrar suas informações: nome, idade, sexo biológico e uma foto do rosto (opcional). 
                            O usuário terá acesso a toda vitrine de academias de artes marciais do Match Fight, 
                            podendo entrar em contato com o dojô e realizar assim o cadastro em alguma modalidade. 
                            Caso seja um professor, haverá a opção de configurar a conta.
                        </p>
                        <div class="botãoAvançar">
                            <a href="../html/conta_aluno_prof.html">
                                <button class="confirmar" id="confirmar">
                                    Avançar
                                </button>
                            </a>
                        </div>  
                    </div>
                </div>
        <div class="login-btn-container">
            <a href="../html/logins.html">
                <button class="card-button">
                    Já tem uma conta? Login
                </button>
            </a>
        </div>
    </div>
<script>
  if (window.history && window.history.replaceState) {
        window.history.replaceState(null, '', window.location.href);
        window.history.pushState(null, '', window.location.href);
        window.onpopstate = function () {
            window.location.href = 'contas.html';
        };
    }
  
    
    if (performance.navigation.type === 2) {
        location.reload(true);
    }

    //CÓDIGO DO MODAL

    const abrirdojo = document.getElementById('dojo');
    const abrirusuario = document.getElementById('usuario');
    //variavel abrir, uma variável que não pode ser alterada.
    const modalDojo = document.getElementById('modalDojo');
    const modalUsuario = document.getElementById('modalUsuario');
    const fecharModalDojo = document.getElementById('fecharModalDojo');
    const fecharModalUsuario = document.getElementById('fecharModalUsuario');

    abrirdojo.addEventListener('click', () => {   //O "." serve para linkar a variável com o evento que ela fará
        modalDojo.style.display = 'flex'; //aqui a variável encontra o id modal, pega o style dele, acha o display e altera o valor para flex
    });
    abrirusuario.addEventListener('click', () => {
        modalUsuario.style.display = 'flex';
    });

    fecharModalDojo.addEventListener('click', () => {
        modalDojo.style.display = 'none'; //aqui a variável altera o valor do display para none
    });

    fecharModalUsuario.addEventListener('click', () => {
        modalUsuario.style.display = 'none';
    })

    window.addEventListener('click', (e) => { //ocorre após clicarem em qualquer lugar da tela
        if (e.target === modalDojo){ //se o local clicado for igual ao id modal o resto acontece
            modalDojo.style.display = 'none';
        }
    });

    window.addEventListener('click', (e) =>{
        if (e.target === modalUsuario){
            modalUsuario.style.display = 'none'
        }
    });

    window.addEventListener('keydown', (e) =>{ //keydown é quando uma tecla é pressionada
        if (e.key === ' '){ // se a tecla de espaço for pressionada o resto acontece
            modalDojo.style.display = 'none';
        }
    });

    window.addEventListener('keydown', (e) => {
        if(e.key === ' '){
            modalUsuario.style.display = 'none'
        }
    });

    // Garante que ao voltar pelo navegador, a página seja recarregada e o modal não fique aberto
    window.addEventListener('pageshow', function(event) {
        if (event.persisted) {
            window.location.reload();
        }
    });

</script>
</body>
</html>